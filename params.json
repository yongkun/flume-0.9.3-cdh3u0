{"name":"Flume-0.9.3-cdh3u0-rakuten","tagline":"I created a new release v0.10 based on 0.9.3 (cdh3u0), major changes include: 1) Masterless Ack, please check https://issues.apache.org/jira/browse/FLUME-640, which was supposed to be merged into 0.10 if Flume was not upgraded to NG; 2) Append to HDFS with new file rotation method.","body":"Flume MA\r\n========\r\n\r\nThis is a repository for the flume source code we are using inside our company.\r\nIt is forked from Cloudera's 0.9.3-cdh3u0 distribution (Flume-OG).\r\n\r\nTwo major enhancements:\r\n\r\n1. Masterless ACK (MA)\r\n----------------------\r\n\r\nThis enhancement aims to increase the reliability and throughput of the whole distributed collecting system.\r\n\r\nFlume provides End-to-End delivery mode to guarantee the data delivery; an acknowledgement message (ACK) is sent back to original node to confirm the successful delivery of a group of messages. \r\n\r\nHowever, the ACKs are sent back through master, which could be a single-point-of-failure or bottle neck of the whole system.\r\nTherefore, I re-designed the ACKs system to let the ACK go back via the route of Event.\r\n\r\nMain enhancements\r\n\r\n* Distribute ACK traffic to each flume node, ACK goes back to original agent throught the route of event.\r\n\r\n* Reuse the connection for event transmission.\r\n\r\n* Buffer input/output stream for [thrift](https://github.com/yongkun/thrift) to improve throughput. \r\n\r\nI created an Apache JIRA Ticket [FLUME-640](https://issues.apache.org/jira/browse/FLUME-640) about this enhancement with some documents. \r\nThis enhancement was supposed to be merged into 0.10 if Flume was not upgraded to NG.\r\n\r\n\r\n2. Append to HDFS with new file rotation method\r\n-----------------------------------------------\r\n\r\nUse HDFS append() and change the file rotation mechanism to create large HDFS files, which could increase the performance of Map/Reduce program when using these files as input, and reduce the number of block mapping entries in Hadoop NameNode.\r\n\r\n\r\n\r\n##### This modified version has been heavily used inside our company ([Rakuten, Inc.](http://en.wikipedia.org/wiki/Rakuten)), with single collector receiving more than 300GB data per day (more than 328 million events per day, peak throughput is about 26K event per second).\r\n\r\n\r\n#### Contact\r\nyongkun at gmail.com\r\n\r\n#### Repository\r\nhttps://github.com/yongkun/flume-0.9.3-cdh3u0-rakuten\r\n","google":"UA-53476203-1","note":"Don't delete this file! It's used internally to help with page regeneration."}